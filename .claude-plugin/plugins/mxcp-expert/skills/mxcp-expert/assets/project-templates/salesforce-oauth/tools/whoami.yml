mxcp: 1
tool:
  name: whoami
  description: |
    Get the current authenticated user's information (user_id, email, name) from OAuth context.
    Use this tool before executing personalized SOQL queries to identify the user for filtering records by ownership or assignment.
  tags:
    - salesforce
    - user
    - auth
  annotations:
    readOnlyHint: true
    idempotentHint: true
  parameters: []
  return:
    type: object
    description: Essential current user information from OAuth context
    properties:
      user_id:
        type: string
        description: Salesforce user ID
      email:
        type: string
        description: User's email address
      name:
        type: string
        description: User's full name
      preferred_username:
        type: string
        description: User's preferred username
      organization_id:
        type: string
        description: Salesforce organization ID
      instanceUrl:
        type: string
        description: Salesforce instance URL for the authenticated user
  language: python
  source:
    file: ../python/salesforce_client.py
  tests:
    - name: whoami_basic
      description: Get current user information
      arguments: []
